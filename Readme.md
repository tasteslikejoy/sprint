С какой проблемой к нам обратился заказчик.

На сайте https://pereval.online/ ФСТР ведёт базу горных перевалов, которая пополняется туристами.
После преодоления очередного перевала, турист заполняет отчёт в формате PDF и отправляет его на электронную почту федерации. 
Экспертная группа ФСТР получает эту информацию, верифицирует, а затем вносит её в базу, которая ведётся в Google-таблице.
Весь процесс очень неудобный и долгий и занимает в среднем от 3 до 6 месяцев.

ФСТР заказала студентам SkillFactory разработать мобильное приложение для Android и IOS, 
которое упростило бы туристам задачу по отправке данных о перевале и сократило время обработки запроса до трёх дней.

Пользоваться мобильным приложением будут туристы. 
В горах они будут вносить данные о перевале в приложение и отправлять их в ФСТР, как только появится доступ в Интернет.

Модератор из федерации будет верифицировать и вносить в базу данных информацию, полученную от пользователей, 
а те в свою очередь смогут увидеть в мобильном приложении статус модерации и просматривать базу с объектами, внесёнными другими.


Разработка.

Разработка REST API, которое будет обслуживать мобильное приложение;
Разработка мобильного приложения;
Тестирование REST API и мобильного приложения.

Для пользователя в мобильном приложении будут доступны следующие действия:

Внесение информации о новом объекте (перевале) в карточку объекта.
Редактирование в приложении неотправленных на сервер ФСТР данных об объектах. На перевале не всегда работает Интернет.
Заполнение ФИО и контактных данных (телефон и электронная почта) с последующим их автозаполнением при внесении данных о новых объектах.
Отправка данных на сервер ФСТР.
Получение уведомления о статусе отправки (успешно/неуспешно).
Согласие пользователя с политикой обработки персональных данных в случае нажатия на кнопку «Отправить» при отправке данных на сервер.

Пользователь с помощью мобильного приложения будет передавать в ФСТР следующие данные о перевале:

Координаты перевала и его высота;
Имя пользователя;
Почта и телефон пользователя;
Название перевала;
Несколько фотографий перевала.


Метод:

GET/passages/<id>

Получить одну запись (перевал) по её id. Выводится вся информация об объекте, в том числе статус 
модерации.

Метод:

PATCH/passages/<id>

Отредактировать существующую запись (замена), если она в статусе new. Редактировать можно все поля, кроме тех, что содержат в себе ФИО, адрес почты и номер телефона. Метод принимает тот же самый json, который принимал уже реализованный метод Passage.

В качестве результата возврвщаются два значения:
state:
1 — если успешно удалось отредактировать запись в базе данных.
0 — в противном случае.
message — если обновить запись не удалось, напиши почему.

Метод:

GET /passages/?user__email=<email>

Список данных обо всех объектах, которые пользователь с почтой 'email' отправил на сервер.

Дополнительно:

Реализовано повторное использование существующего объекта модели Users при создании нового 
объекта модели Passage. Если запрос (метод POST/Passages/) на добавление записи отправляет пользователь, ранее уже отправлявший такой запрос (определяется по email), то для текущей записи используются ранее записанные данные пользователя, а не создается новый пользователь (объект модели Users).
Для создания и изменения объектов моделей со связанными данными вложенных сериализаторов использован пакет drf-writable-nested

